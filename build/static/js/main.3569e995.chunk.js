(this["webpackJsonpgoogle-calendar-react"]=this["webpackJsonpgoogle-calendar-react"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(3),i=n.n(c),s=(n(12),n(13),n(5)),r=n(6),l=n(7),d=n(2),u="AIzaSyAXTTATGaeYvWKHSiuLd7ucqmHeMxUoX3g",g=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.src="https://apis.google.com/js/api.js",document.body.appendChild(e),e.addEventListener("load",(function(){window.gapi&&i()}))}),[]);var c=function(){window.gapi.auth2.authorize({client_id:"229181458743-7e5rj587bq9qsjr7e7c5ut4kktgunpgt.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar"},(function(e){console.log(e),e&&(console.log(window.gapi.client,e),e.access_token&&localStorage.setItem("access_token",e.access_token),window.gapi.client.load("calendar","v3",p))}))},i=function(){window.gapi.load("client:auth2",g)},g=function(){localStorage.getItem("access_token")?fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?key=".concat(u,"&orderBy=startTime&singleEvents=true"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){if(401!==e.status)return e.json();localStorage.removeItem("access_token"),c()})).then((function(e){(null===e||void 0===e?void 0:e.items)&&(console.log(e),o(m(e.items)))})):c()},p=function(){window.gapi.client.calendar.events.list({calendarId:"primary",showDeleted:!0,singleEvents:!0}).then((function(e){var t=e.result.items;console.log(t),t.length>0&&o(m(t))}))},m=function(e){return e.map((function(e){return{title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date}}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){if(window.gapi.client||localStorage.getItem("access_token")){new Date;fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?key=".concat(u,"&timeMax=").concat(new Date("Apr 14, 2021").toISOString(),"&timeMin=").concat(new Date("Apr 15, 2021").toISOString()),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?key=".concat(u),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))},body:JSON.stringify({end:{dateTime:new Date("Apr 16, 2021")},start:{dateTime:new Date("Apr 15, 2021")},summary:"Test"})})}},children:"Add event"}),Object(d.jsx)(r.a,{plugins:[l.a],initialView:"dayGridMonth",events:n})]})};var p=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(g,{})})};i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.3569e995.chunk.js.map